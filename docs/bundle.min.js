!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"scaleToGameW",value:function(t,e,n){t.displayWidth=n.game.config.width*e,t.scaleY=t.scaleX}},{key:"scaleToGameH",value:function(t,e,n){t.displayHeight=n.game.config.height*e,t.scaleX=t.scaleY}},{key:"centerH",value:function(t,e){t.x=e.game.config.width/2-t.displayWidth/2}},{key:"centerV",value:function(t,e){t.y=e.game.config.height/2-t.displayHeight/2}},{key:"center2",value:function(t,e){t.x=e.game.config.width/2-t.displayWidth/2,t.y=e.game.config.height/2-t.displayHeight/2}},{key:"center",value:function(t,e){console.log(e),t.x=e.game.config.width/2,t.y=e.game.config.height/2}},{key:"centerX",value:function(t){return t.game.config.width/2}},{key:"getYPer",value:function(t,e){return t.game.config.height*e}},{key:"getXPer",value:function(t,e){return t.game.config.width*e}},{key:"scaleImageToSize",value:function(t,e,n){var i=e/t.width,o=n/t.height,r=i;r>o&&(r=o),t.setScale(r)}},{key:"scaleImageToWidth",value:function(t,e){var n=e/t.width;t.setScale(n)}},{key:"alignToTopLeft",value:function(t){t.x=t.displayWidth/2,t.y=t.displayHeight/2}},{key:"alignToTopRight",value:function(t,e){t.x=e.sys.game.config.width-t.displayWidth/2,t.y=t.displayHeight/2}},{key:"alignToLBottomLeft",value:function(t,e){t.x=t.displayWidth/2,t.y=e.sys.game.config.height-t.displayHeight/2}},{key:"alignToLBottomRight",value:function(t,e){t.x=e.game.config.width-t.displayWidth/2,t.y=e.game.config.height-t.displayHeight/2}}],(n=null)&&i(e.prototype,n),o&&i(e,o),t}();function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=null,f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h||(t=a(this,c(e).call(this)),h=l(t)),a(t,h)}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,Phaser.Events.EventEmitter),n=e,o=[{key:"getInstance",value:function(){return h||(h=new e),h}}],(i=null)&&s(n.prototype,i),o&&s(n,o),e}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(o=d(e).call(this,t.scene,0,0,t.text))||"object"!==y(o)&&"function"!=typeof o?g(i):o).config=t,n.setOrigin(.5,.5),t.x&&(n.x=t.x),t.y&&(n.y=t.y),t.scale&&Align.scaleToGameW(g(n),t.scale),t.textStyle||(t.textStyle={fontSize:"16px",color:"#ff0000"}),t.textStyle&&(t.textStyle.style&&n.setStyle(t.textStyle.style),t.textStyle.stroke&&(t.textStyle.strokeThick?n.setStroke(t.textStyle.stroke,t.textStyle.strokeThick):n.setStroke(t.textStyle.stroke,4)),t.textStyle.shadow&&n.setShadow(4,4,t.shadow,2,!1,!0)),t.event&&(n.setInteractive(),n.on("pointerdown",n.onDown,g(n))),n.scene.add.existing(g(n)),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,Phaser.GameObjects.Text),n=e,(i=[{key:"onDown",value:function(){f.getInstance().emit(this.config.event,this.config)}},{key:"sceneChanged",value:function(){this.destroy()}}])&&p(n.prototype,i),o&&p(n,o),e}();function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,e.scene?(e.rows||(e.rows=5),e.cols||(e.cols=5),this.scene=e.scene,e.height||(e.height=this.scene.sys.game.config.height),e.width||(e.width=this.scene.sys.game.config.width),this.cw=e.width/e.cols,this.ch=e.height/e.rows,this.startX=0,this.startY=0,e.startX&&(this.startX=e.startX),e.startY&&(this.startY=e.startY)):console.log("missing scene")}var e,n,i;return e=t,(n=[{key:"show",value:function(){this.graphics=this.scene.add.graphics(),this.graphics.lineStyle(2,16711680);for(var t=0;t<this.config.width;t+=this.cw)this.graphics.moveTo(this.startX+t,this.startY),this.graphics.lineTo(this.startX+t,this.startY+this.config.height);for(t=0;t<this.config.height;t+=this.ch)this.graphics.moveTo(this.startX,this.startY+t),this.graphics.lineTo(this.startX+this.config.width,this.startY+t);return this.graphics.strokePath(),this.graphics}},{key:"placeAt",value:function(t,e,n){var i=this.startX+this.cw*t+this.cw/2,o=this.startY+this.ch*e+this.ch/2;return n.x=i,n.y=o,{x:i,y:o,sx:this.startX,sy:this.startY}}},{key:"placeAtIndex",value:function(t,e){var n=Math.floor(t/this.config.cols),i=t-n*this.config.cols;return this.placeAt(i,n,e)}},{key:"showNumbers",value:function(){this.show();for(var t=0,e=0;e<this.config.rows;e++)for(var n=0;n<this.config.cols;n++){var i=this.scene.add.text(0,0,t,{color:"#ff0000"});i.setOrigin(.5,.5),this.placeAtIndex(t,i),t++}}},{key:"showPos",value:function(){this.show();for(var t=0;t<this.config.rows;t++)for(var e=0;e<this.config.cols;e++){var n="x:"+e+"\ny:"+t,i=this.scene.add.text(0,0,n,{color:"#ff0000",fontSize:16,fontStyle:"bold",backgroundColor:"#000000"});i.setOrigin(.5,.5),this.placeAt(e,t,i)}}},{key:"findNearestIndex",value:function(t,e){var n=Math.floor(e/this.ch),i=Math.floor(t/this.cw);return n*this.config.cols+i}},{key:"getPosByIndex",value:function(t){var e=Math.floor(t/this.config.cols),n=t-e*this.config.cols;return{x:this.cw*n+this.cw/2,y:this.ch*e+this.ch/2}}}])&&m(e.prototype,n),i&&m(e,i),t}();function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var S=null,O=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==S&&(S=this),this._score=0,this.soundOn=!0,this.musicOn=!0,this.emitter=f.getInstance()}var e,n,i;return e=t,i=[{key:"getInstance",value:function(){return null==S&&(S=new t),S}}],(n=[{key:"toggleMusic",value:function(){this.musicOn=!this.musicOn,this.emitter.emit("MUSIC_STAT_CHANGED")}},{key:"toggleSound",value:function(){this.soundOn=!this.soundOn}},{key:"getStars",value:function(){return 3}},{key:"score",set:function(t){this._score=t,this.emitter.emit("SCORE_UPDATED")},get:function(){return this._score}}])&&w(e.prototype,n),i&&w(e,i),t}();var _=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e.scene;var n=this.scene.sys.game,i=this.scene.add.image(n.config.width/2,n.config.height/2,e.key);i.displayWidth=n.config.width,i.displayHeight=n.config.height};function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var P,T=null,E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==T&&(T=this),this.setConstants(e)}var e,n,i;return e=t,i=[{key:"getInstance",value:function(e){return null==T&&(T=new t(e)),window.textStyles=T,T}}],(n=[{key:"setConstants",value:function(e){this.width=e,t.SIZE_VERY_LARGE=e/5,t.SIZE_LARGE=e/10,t.SIZE_MED3=e/15,t.SIZE_MED=e/20,t.SIZE_MED2=e/25,t.SIZE_SMALL=e/30,t.SIZE_SMALL2=e/40,t.MAIN_FONT="Space Mono",this.styles=[],this.styles[t.DEFAULT]={style:{color:"#ffffff",fontSize:t.SIZE_MED}},this.setDefaults()}},{key:"getSize",value:function(t){return this.width/t}},{key:"getStyle",value:function(e){return this.styles.hasOwnProperty(e)||(e=t.DEFAULT),this.styles[e]}},{key:"addStyle",value:function(t,e){this.styles[t]=e}},{key:"regSimple",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.SIZE_MED,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.MAIN_FONT,r={style:{color:n,fontSize:i,fontFamily:o}};this.styles[e]=r}},{key:"regAdvanced",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.SIZE_MED,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.MAIN_FONT,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4;arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.styles[e]={stroke:r,strokeThick:s,style:{color:n,fontSize:i,fontFamily:o}}}},{key:"setDefaults",value:function(){this.styles.DEFAULT={style:{color:"#ffffff",fontSize:t.SIZE_MED,font:t.MAIN_FONT}},this.styles.PURPLE={stroke:"#1D1F9C",strokeThick:4,style:{color:"#1D1F9C",fontSize:t.SIZE_MED,fontFamily:t.MAIN_FONT}},this.styles.TOAST_BAR={shadow:"#000000",stroke:"#ff0000",strokeThick:4,style:{color:"#ffffff",fontSize:t.SIZE_MED,fontFamily:t.MAIN_FONT}},this.styles.CLOCK={style:{color:"#ffffff",fontSize:t.SIZE_MED,fontFamily:t.MAIN_FONT}},this.styles.CLOCK2={style:{color:"#000000",fontSize:t.SIZE_MED2,fontFamily:t.MAIN_FONT}},this.styles.TITLE_TEXT={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_LARGE,color:"#78fee0"},shadow:"#1ff042",stroke:"#1ff042"},this.styles.POINT_BOX={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_LARGE,color:"red"},shadow:"#000000",stroke:"#ff0000",strokeThickness:4},this.styles.SCORE={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_LARGE,color:"#ffffff"}},this.styles.BLACK={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_MED,color:"#000000"}},this.styles.POINTS={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_VERY_LARGE,color:"#ff0000"}},this.styles.WHITE={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_MED,color:"#ffffff"}},this.styles.BUTTON_STYLE={style:{fontFamily:t.MAIN_FONT,fontSize:t.SIZE_MED3,color:"#FAFCFE"},shadow:"#1ff042",stroke:"#0366d6"}}}])&&x(e.prototype,n),i&&x(e,i),t}();function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var j,C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"getInstance",value:function(e){return null==P&&((P=new t).scene=e.scene,P.model=O.getInstance(),P.emitter=f.getInstance(),P.emitter.on("PLAY_SOUND",P.playSound.bind(P)),P.emitter.on("MUSIC_CHANGED",P.musicChanged,P)),P}}],(n=[{key:"musicChanged",value:function(){this.background&&(0==this.model.musicOn?this.background.stop():this.background.play())}},{key:"playSound",value:function(t){1==this.model.soundOn&&this.scene.sound.add(t).play()}},{key:"setBackgroundMusic",value:function(t){1==this.model.musicOn&&(this.background=this.scene.sound.add(t,{volume:.5,loop:!0}),this.background.play())}}])&&I(e.prototype,n),i&&I(e,i),t}();function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=O.getInstance(),this.mm=C.getInstance(),this.emitter=f.getInstance(),this.emitter.on("TOGGLE_MUSIC",this.toggleMusic.bind(this)),this.emitter.on("TOGGLE_SOUND",this.toggleSound.bind(this)),this.emitter.on("SET_SCORE",this.setScore.bind(this)),this.emitter.on("UP_POINTS",this.upPoints.bind(this))}var e,n,i;return e=t,i=[{key:"getInstance",value:function(){return null==j&&(j=new t),j}}],(n=[{key:"toggleMusic",value:function(){this.model.toggleMusic(),this.mm.musicChanged()}},{key:"toggleSound",value:function(){this.model.toggleSound()}},{key:"setScore",value:function(t){this.model.score=t}},{key:"upPoints",value:function(t){var e=this.model.score;e+=t,this.model.score=e}}])&&A(e.prototype,n),i&&A(e,i),t}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function N(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?R(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!t.scene)return console.log("missing scene!"),N(n);(n=N(this,F(e).call(this,t.scene))).scene=t.scene,n.emitter=f.getInstance();var i=.1;return t.scale&&(i=t.scale),n.back=n.scene.add.image(0,0,t.backKey),n.onIcon=n.scene.add.image(0,0,t.onIcon),n.offIcon=n.scene.add.image(0,0,t.offIcon),o.scaleToGameW(n.back,i,n.scene),o.scaleToGameW(n.onIcon,i/2,n.scene),o.scaleToGameW(n.offIcon,i/2,n.scene),n.add(n.back),n.add(n.onIcon),n.add(n.offIcon),0!=t.value&&(t.value=!0),n.value=t.value,t.event&&(n.event=t.event),t.callback&&(n.callback=callback),n.setIcons(),n.back.setInteractive(),n.back.on("pointerdown",n.toggle,R(n)),t.x&&(n.x=t.x),t.y&&(n.y=t.y),n.setSize(n.back.displayWidth,n.back.displayHeight),n.scene.add.existing(R(n)),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,Phaser.GameObjects.Container),n=e,(i=[{key:"toggle",value:function(){this.value=!this.value,this.setIcons(),this.event&&this.emitter.emit(this.event,this.value),this.callback&&this.callback(this.value)}},{key:"setIcons",value:function(){1==this.value?(this.onIcon.visible=!0,this.offIcon.visible=!1):(this.onIcon.visible=!1,this.offIcon.visible=!0)}}])&&D(n.prototype,i),r&&D(n,r),e}();function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=0,this._y=0,this._oldX=0,this._oldY=0,this._visible=!0,this._displayWidth=0,this._displayHeight=0,this.children=[],this.childIndex=-1,this.isPosBlock=!0,this._depth=1,this._alpha=1}var e,n,i;return e=t,(n=[{key:"setChildDepth",value:function(t){var e=100*this._depth+t.childIndex;null==t.scene&&(t.scene=gw.model.currentScene),t.depth=e,null!=t.nextChild&&this.setChildDepth(t.nextChild)}},{key:"add",value:function(t){this.childIndex++,t.childIndex=this.childIndex,this.children.push(t),this.buildList()}},{key:"removeChild",value:function(t){this.children.splice(t.childIndex,1),this.buildList();for(var e=this.children.length,n=0;n<e;n++)this.children[n].childIndex=n;this.childIndex=e}},{key:"buildList",value:function(){var t=this.children.length;if(t>1)for(var e=1;e<t;e++)this.children[e-1].nextChild=this.children[e];this.children[t-1].nextChild=null}},{key:"willRender",value:function(){}},{key:"setSize",value:function(t,e){this._displayWidth=t,this._displayHeight=e}},{key:"setXY",value:function(t,e){this.x=t,this.y=e,this.updatePositions()}},{key:"setScrollFactor",value:function(t){this.children.length>0&&this.updateChildScroll(this.children[0],t)}},{key:"updateChildScroll",value:function(t,e){t.setScrollFactor(e),t.nextChild&&t.nextChild.setScrollFactor(e)}},{key:"updateChildAlpha",value:function(t,e){t.alpha=e,1==t.isPosBlock&&(t.alpha=e),null!=t.nextChild&&this.updateChildAlpha(t.nextChild,e)}},{key:"updateChildVisible",value:function(t,e){t.visible=e,1==t.isPosBlock&&(t.visible=e),null!=t.nextChild&&this.updateChildVisible(t.nextChild,e)}},{key:"updateChildPos",value:function(t){t.y=t.y-this._oldY+this._y,t.x=t.x-this._oldX+this._x,1==t.isPosBlock&&t.updatePositions(),null!=t.nextChild&&this.updateChildPos(t.nextChild),this._oldX=this._x,this._oldY=this._y}},{key:"updatePositions",value:function(){this.children&&this.children.length>0&&this.updateChildPos(this.children[0])}},{key:"getRelPos",value:function(t){return{x:t.x-this.x,y:t.y-this.y}}},{key:"once",value:function(t,e,n){}},{key:"getChildren",value:function(t,e){t.push(e),e.isPosBlock&&e.children.length>0&&e.getChildren(t,e.children[0]),e.nextChild&&this.getChildren(t,e.nextChild)}},{key:"getAllChildren",value:function(){var t=[];return this.children.length>0&&this.getChildren(t,this.children[0]),t}},{key:"getChildAt",value:function(t){return this.children[t]}},{key:"setMask",value:function(t){this.getAllChildren().forEach(function(e){e.setMask(t)}.bind(this))}},{key:"destroy",value:function(){var t=this.getAllChildren();this.childIndex=-1;for(var e=t.length,n=0;n<e;n++)t[n].destroy();this.children.length=0,t.length=0}},{key:"depth",set:function(t){this._depth=t,this.children.length>0&&this.setChildDepth(this.children[0])},get:function(){return this._depth}},{key:"x",set:function(t){this._oldX=this._x,this._x=t,this.updatePositions()},get:function(){return this._x}},{key:"y",set:function(t){this._oldY=this._y,this._y=t,this.updatePositions()},get:function(){return this._y}},{key:"displayWidth",get:function(){return this._displayWidth}},{key:"displayHeight",get:function(){return this._displayHeight}},{key:"visible",set:function(t){this._visible!=t&&(this._visible=t,this.children.length>0&&this.updateChildVisible(this.children[0],t))},get:function(){return this._visible}},{key:"alpha",set:function(t){this._alpha!=t&&(this._alpha=t,this.children.length>0&&this.updateChildAlpha(this.children[0],t))},get:function(){return this._alpha}}])&&B(e.prototype,n),i&&B(e,i),t}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=z(this,Y(e).call(this,t.scene))).scene=t.scene;var i=O.getInstance();n.back=n.scene.add.image(0,0,"panelBack"),o.scaleToGameW(n.back,.6,n.scene),n.add(n.back);var r=new L({scene:n.scene,backKey:"toggle2",onIcon:"musicOn",offIcon:"musicOff",event:"TOGGLE_MUSIC",scale:.2,value:i.musicOn,x:0,y:0});n.add(r);var s=new L({scene:n.scene,backKey:"toggle2",onIcon:"sfxOn",offIcon:"sfxOff",event:"TOGGLE_SOUND",value:i.soundOn,scale:.2,x:0,y:0});return n.add(s),r.x=n.back.x-.25*n.back.displayWidth,s.x=n.back.x+.25*n.back.displayWidth,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,t),e}(H);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,q(e).call(this,t))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"preload",value:function(){}},{key:"create",value:function(){this.mm=C.getInstance({scene:this}),this.controller=M.getInstance(),this.model=O.getInstance(),this.emitter=f.getInstance(),this.textStyles=E.getInstance(this.sys.game.config.width),this.gw=this.sys.game.config.width,this.gh=this.sys.game.config.height}},{key:"setBackground",value:function(t){return new _({scene:this,key:t})}},{key:"placeImage",value:function(t,e,n){var i=this.add.sprite(0,0,t);return this.aGrid.placeAtIndex(e,i),-1!=n&&o.scaleToGameW(i,n,this),i}},{key:"placeText",value:function(t,e,n){var i=this.textStyles.getStyle(n),o=new v({scene:this,text:t,textStyle:i});return this.aGrid.placeAtIndex(e,o),o}},{key:"placeAtIndex",value:function(t,e){this.aGrid.placeAtIndex(t,e,this)}},{key:"placeAt",value:function(t,e,n){this.aGrid.placeAt(t,e,n,this)}},{key:"makeAlignGrid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;this.aGrid=new k({scene:this,rows:t,cols:e})}},{key:"makeGear",value:function(){var t=this.add.image(0,0,"gear");o.scaleToGameW(t,.1,this),this.aGrid.placeAtIndex(110,t),t.setInteractive(),t.on("pointerdown",this.toggleSoundPanel.bind(this))}},{key:"makeSoundPanel",value:function(){this.soundPanel=new Z({scene:this}),o.center(this.soundPanel,this),this.soundPanel.visible=!1,this.soundPanel.depth=2e3}},{key:"toggleSoundPanel",value:function(){this.soundPanel.visible=!this.soundPanel.visible}},{key:"getStyle",value:function(t){return this.textStyles.getStyle(t)}},{key:"update",value:function(){}}])&&K(n.prototype,i),r&&K(n,r),e}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nt(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t,e,n){return(it="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nt(this,ot(e).call(this,"SceneMain"))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){}},{key:"create",value:function(){it(ot(e.prototype),"create",this).call(this),this.makeAlignGrid(11,11),this.aGrid.showNumbers(),this.makeUi(),console.log("fooMonkey")}},{key:"makeUi",value:function(){it(ot(e.prototype),"makeSoundPanel",this).call(this),it(ot(e.prototype),"makeGear",this).call(this)}},{key:"update",value:function(){}}])&&et(n.prototype,i),o&&et(n,o),e}($);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lt(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?ht(t):e}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.scene?((n=lt(this,ut(e).call(this,t.scene))).scene=t.scene,t.color||(t.color=16711680),t.width||(t.width=200),t.height||(t.height=t.width/4),n.graphics=n.scene.add.graphics(),n.graphics.fillStyle(t.color,1),n.graphics.fillRect(0,0,t.width,t.height),n.add(n.graphics),n.graphics.x=-t.width/2,n.graphics.y=-t.height/2,t.x&&(n.x=t.x),t.y&&(n.y=t.y),n.scene.add.existing(ht(n)),n):(console.log("missing scene!"),lt(n))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,Phaser.GameObjects.Container),n=e,(i=[{key:"setPercent",value:function(t){this.graphics.scaleX=t}},{key:"setTweenPer",value:function(t){this.timeTween=this.scene.tweens.add({targets:this.graphics,duration:980,scaleX:t})}}])&&ct(n.prototype,i),o&&ct(n,o),e}();function pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var dt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e.scene,this.x=0,this.y=0,e.x&&(this.x=e.x),e.y&&(this.y=e.y),this.size=5,e.size&&(this.size=e.size),this.dist=150,e.dist&&(this.dist=e.dist),this.duration=1e3,e.duration&&(this.duration=e.duration),this.maxDist=300,e.maxDist&&(this.maxDist=e.maxDist),this.f=0,e.f&&(this.f=e.f),this.tint=16777215,e.tint&&(this.tint=e.tint),this.n=25,e.count&&(this.n=e.count);for(var n=0;n<this.n;n++){var i=this.scene.add.sprite(this.x,this.y,"effectStars");i.setTint(this.tint),i.setFrame(this.f),i.setOrigin(.5,.5);var o=Phaser.Math.Between(50,this.maxDist),r=Phaser.Math.Between(1,100)/100;i.scaleX=r,i.scaleY=r;var s=n*(360/this.n),a=this.x+o*Math.cos(s),c=this.y+o*Math.sin(s);this.scene.tweens.add({targets:i,duration:this.duration,alpha:0,y:c,x:a,onComplete:this.tweenDone,onCompleteParams:[{scope:this}]})}}var e,n,i;return e=t,i=[{key:"preload",value:function(t,e){t.load.spritesheet("effectStars",e,{frameWidth:25,frameHeight:25})}}],(n=[{key:"tweenDone",value:function(t,e,n){e[0].destroy()}}])&&pt(e.prototype,n),i&&pt(e,i),t}();function gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e.scene,this.x=0,this.y=0,e.x&&(this.x=e.x),e.y&&(this.y=e.y),this.size=5,e.size&&(this.size=e.size),this.dist=150,e.dist&&(this.dist=e.dist),this.duration=1e3,e.duration&&(this.duration=e.duration),this.maxDist=300,e.maxDist&&(this.maxDist=e.maxDist),this.color=16777215,e.color&&(this.color=e.color),this.n=25,e.count&&(this.n=e.count);for(var n=0;n<this.n;n++){var i=this.scene.add.sprite(this.x,this.y,"effectColorStars"),o=Phaser.Math.Between(0,14);i.setFrame(o),i.setOrigin(.5,.5);var r=Phaser.Math.Between(50,this.maxDist),s=Phaser.Math.Between(1,100)/100;i.scaleX=s,i.scaleY=s;var a=n*(360/this.n),c=this.x+r*Math.cos(a),l=this.y+r*Math.sin(a);this.scene.tweens.add({targets:i,duration:this.duration,alpha:0,y:l,x:c,onComplete:this.tweenDone,onCompleteParams:[{scope:this}]})}}var e,n,i;return e=t,i=[{key:"preload",value:function(t,e){t.load.spritesheet("effectColorStars",e,{frameWidth:26,frameHeight:26})}}],(n=[{key:"tweenDone",value:function(t,e,n){e[0].destroy()}}])&&gt(e.prototype,n),i&&gt(e,i),t}();function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(t){var n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.x||(t.x=0),t.y||(t.y=0),i=this,n=!(r=kt(e).call(this,t.scene,t.x,t.y,"flare"))||"object"!==vt(r)&&"function"!=typeof r?wt(i):r;var s=.2,a=-1,c=1e3;t.scale&&(s=t.scale),t.direction&&(a=t.direction),t.duration&&(c=t.duration),n.tint=16777215,t.tint&&(n.tint=t.tint),n.setTint(n.tint);var l=270*a;return o.scaleToGameW(wt(n),s,n.scene),n.scene=t.scene,n.scene.add.existing(wt(n)),n.scene.tweens.add({targets:wt(n),duration:c,alpha:0,angle:l,onComplete:n.tweenDone,onCompleteParams:[{scope:wt(n)}]}),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,Phaser.GameObjects.Sprite),n=e,r=[{key:"preload",value:function(t,e){t.load.image("flare",e)}}],(i=[{key:"tweenDone",value:function(t,e,n){n.scope.destroy()}}])&&mt(n.prototype,i),r&&mt(n,r),e}();function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Pt(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var It=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Pt(this,Tt(e).call(this,"SceneLoad"))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){this.common="./assets/",this.imagePath=this.common+"images/",this.audioPath=this.common+"sounds/",this.bar2=new yt({scene:this,height:.1*this.sys.game.config.height,width:.8*this.sys.game.config.width,color:16777215}),this.bar=new yt({scene:this,height:.1*this.sys.game.config.height,width:.8*this.sys.game.config.width}),o.center(this.bar,this),o.center(this.bar2,this),this.load.on("progress",this.onProgress,this);for(var t=["gear","musicOff","musicOn","sfxOn","sfxOff","iconLock","iconHome","iconNext","iconPrev"],e=0;e<t.length;e++)this.loadIcon(t[e]);for(var n=["title","face"],i=0;i<n.length;i++)this.loadPng(n[i],this.imagePath);for(var r=["background","panelBack","sky"],s=0;s<r.length;s++)this.loadJpg(r[s],this.imagePath);for(var a=[],c=0;c<a.length;c++)this.loadWav(a[c],this.audioPath);for(var l=["LED_Spirals"],u=0;u<l.length;u++)this.loadMp3(l[u],this.audioPath);for(var h=[],f=0;f<h.length;f++)this.loadWav(h[f]);for(var y=[],p=0;p<y.length;p++)this.loadMp3(y[p]);this.loadToggle(1),this.loadToggle(2),this.loadButton("button",1,2),dt.preload(this,this.common+"images/effects/stars.png"),bt.preload(this,this.common+"images/effects/colorStars.png"),Ot.preload(this,this.common+"images/effects/flare.png"),this.load.image("holder",this.common+"images/ui/backs/holder.jpg")}},{key:"onProgress",value:function(t){Math.floor(100*t),this.bar.setPercent(t)}},{key:"create",value:function(){console.log("about to title"),this.scene.start("SceneTitle")}},{key:"loadButton",value:function(t,e,n){this.load.image(t,this.imagePath+"ui/buttons/"+e+"/"+n+".png")}},{key:"loadIcon",value:function(t){this.load.image(t,this.imagePath+"ui/icons/"+t+".png")}},{key:"loadToggle",value:function(t){this.load.image("toggle"+t,this.imagePath+"ui/toggles/"+t+".png")}},{key:"loadJpg",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""==e&&(e=this.imagePath),this.load.image(t,e+t+".jpg")}},{key:"loadPng",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""==e&&(e=this.imagePath),this.load.image(t,e+t+".png")}},{key:"loadWav",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""==e&&(e=this.audioPath),this.load.audio(t,e+t+".wav")}},{key:"loadMp3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""==e&&(e=this.audioPath),this.load.audio(t,e+t+".mp3")}},{key:"update",value:function(){}}])&&xt(n.prototype,i),r&&xt(n,r),e}($);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function At(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=function(t){function e(t){var n,i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.key,i=this,(n=!(o=Ft(e).call(this,{scene:t.scene}))||"object"!==Dt(o)&&"function"!=typeof o?Rt(i):o).config=t,n.scene=t.scene,n.setBack(t.key,t.scale),n.setAlignGrid(3,3),n.text1=n.placeText(t.text,4,t.textStyle),t.x&&(n.x=t.x),t.y&&(n.y=t.y),t.callback&&(n.callback=t.callback,n.back.setInteractive(),n.back.on("pointerup",n.pressed,Rt(n))),n.setSize(n.back.displayWidth,n.back.displayHeight),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(e,t),n=e,(i=[{key:"centerV",value:function(){this.text1.y=this.back.y+this.back.displayHeight/2-this.text1.displayHeight/2}},{key:"sceneChanged",value:function(){this.back.off("pointerup",this.pressed,this),this.back.off("pointerover",this.over,this),this.back.off("pointerout",this.out,this)}},{key:"over",value:function(){this.y-=5}},{key:"out",value:function(){this.y+=5}},{key:"pressed",value:function(){this.callback(this)}}])&&Nt(n.prototype,i),o&&Nt(n,o),e}(function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=At(this,Mt(e).call(this))).scene=t.scene,n.config=t,n.gw=n.scene.sys.game.config.width,n.gh=n.scene.sys.game.config.height,n.textStyles=E.getInstance(n.gw),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,t),n=e,(i=[{key:"initPos",value:function(){this.config.x&&(this.x=this.config.x),this.config.y&&(this.y=this.config.y),this.config.grid&&(this.pgrid=this.config.grid,this.pgrid.placeAtIndex(this.config.pos,this))}},{key:"setAlignGrid",value:function(t,e){if(this.back){var n=this.back.x-this.back.displayWidth/2,i=this.back.y-this.back.displayHeight/2;this.aGrid=new k({scene:this.scene,rows:t,cols:e,width:this.back.displayWidth,height:this.back.displayHeight,startX:n,startY:i})}else console.log("Back Not Set")}},{key:"fixGrid",value:function(){var t=this.back.x-this.back.displayWidth/2,e=this.back.y-this.back.displayHeight/2;this.aGrid.startX=t,this.aGrid.startY=e}},{key:"showGrid",value:function(){this.fixGrid(),this.aGrid.show()}},{key:"showGridNumbers",value:function(){this.fixGrid(),this.aGrid.showNumbers(this.back.x-this.back.displayWidth/2,this.back.y-this.back.displayHeight/2)}},{key:"setBack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.back=this.scene.add.image(0,0,t),-1!=e&&this.scale(this.back,e),this.add(this.back),this.initPos()}},{key:"scale",value:function(t,e){o.scaleToGameW(t,e,this.scene)}},{key:"scaleToBackW",value:function(t,e){t.displayWidth=this.back.displayWidth*per,t.scaleY=t.scaleX}},{key:"scaleToBackH",value:function(t,e){t.displayHeight=this.back.displayHeight*per,t.scaleX=t.scaleY}},{key:"placeImage",value:function(t,e,n){var i=this.scene.add.sprite(0,0,t);return this.aGrid.placeAtIndex(e,i),-1!=n&&o.scaleToGameW(i,n,this.scene),this.add(i),i}},{key:"placeText",value:function(t,e,n){var i=this.textStyles.getStyle(n),o=new v({scene:this.scene,text:t,textStyle:i});return this.add(o),this.aGrid.placeAtIndex(e,o),o}}])&&Ct(n.prototype,i),r&&Ct(n,r),e}(H));function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zt(t,e,n){return(zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yt(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,Yt(e).call(this,"SceneTitle"))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){zt(Yt(e.prototype),"preload",this).call(this)}},{key:"create",value:function(){zt(Yt(e.prototype),"create",this).call(this),this.mm.setBackgroundMusic("LED_Spirals"),this.setBackground("background"),this.makeAlignGrid(11,11),this.aGrid.showNumbers(),this.placeText("RonaGun",27,"TITLE_TEXT");var t=new Lt({scene:this,textStyle:"BUTTON_STYLE",key:"button",text:"START GAME",callback:this.startGame.bind(this)});this.aGrid.placeAtIndex(104,t),this.makeUi(),this.placeText(".:👾 0.200-09 👾:.",49,"frost"),this.makeColorStars()}},{key:"makeColorStars",value:function(){this.colorStars=new bt({scene:this}),o.center(this.colorStars,this)}},{key:"makeUi",value:function(){zt(Yt(e.prototype),"makeSoundPanel",this).call(this),zt(Yt(e.prototype),"makeGear",this).call(this)}},{key:"startGame",value:function(){this.scene.start("SceneMain")}},{key:"update",value:function(){}}])&&Ht(n.prototype,i),r&&Ht(n,r),e}($);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t,e,n){return(qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jt(this,Qt(e).call(this,"SceneOver"))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){}},{key:"create",value:function(){qt(Qt(e.prototype),"create",this).call(this),this.setBackground("sky"),this.makeAlignGrid(11,11),this.placeText("Game Title",27,"TITLE_TEXT");var t=new FlatButton({scene:this,textStyle:"BUTTON_STYLE",key:"button",text:"Play Again",callback:this.playAgain.bind(this)});this.aGrid.placeAtIndex(104,t),this.makeUi()}},{key:"makeUi",value:function(){qt(Qt(e.prototype),"makeSoundPanel",this).call(this),qt(Qt(e.prototype),"makeGear",this).call(this)}},{key:"playAgain",value:function(){this.scene.start("SceneMain")}},{key:"update",value:function(){}}])&&Kt(n.prototype,i),o&&Kt(n,o),e}($),ee=navigator.userAgent.indexOf("Mobile");-1==ee&&(ee=navigator.userAgent.indexOf("Tablet"));var ne=480,ie=640;-1!=ee&&(ne=window.innerWidth,ie=window.innerHeight);var oe={type:Phaser.AUTO,width:ne,height:ie,parent:"phaser-game",scene:[It,Zt,st,te]};new Phaser.Game(oe)}]);